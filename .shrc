# include user's bin into PATH ,if it exists
if [ -d "${HOME}/bin" ] ; then
    export PATH="${PATH}:${HOME}/bin"
fi

# source specified file in a safe way.
function Source ()
{
    local item="$1"

    if [ -f "${item}" ] ; then
        source "${item}"
    else
        true
    fi
}

# which disto are we running in?
function distro-detect()
{
    if [ -f /etc/gentoo-release   ] ; then
        echo  "gentoo"

    elif [ -f /etc/pacman.conf ] ; then
        echo "arch"

    elif [ -f /etc/apt/sources.list  ] ; then
        echo "debian"

    elif [ -f /etc/fedora-release  ] ; then
        echo "fedora"

    elif [ -f /etc/apt/sources.list  ] ; then
        echo "debian"
    elif [ -f /boot/loader.conf  ] ; then
        echo "freebsd"

    elif [[ $(uname) =~ 'Cygwin' ]] ; then
        echo "cygwin"

    else
        echo "unknown"
    fi
}

# distro specific stuff
export PRIVATE_SHELL_DIR=$HOME/.sh.d
distro=$(distro-detect)
Source "${PRIVATE_SHELL_DIR}/distro/${distro}.sh"

for item in $PRIVATE_SHELL_DIR/*.sh ; do
    Source "${item}"
done

Source "$PRIVATE_SHELL_DIR/test.sh"


# vim:set ft=sh: #
